<div class="sidebar-stack">
  <!-- LOGO -->
  <div class="app-logo">
    <img src="assets/logo/app_icon.png" alt="Wellar" class="app-logo-img" />
    <span class="app-logo-ring"></span>
  </div>

  <!-- NAV -->
  <nav class="sidebar-nav">

    <a routerLink="/dashboard"
       routerLinkActive="active"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M3 11.5L12 4l9 7.5"></path>
        <path d="M5 10.5V20h14v-9.5"></path>
      </svg>
      <span class="label">Dashboard</span>
    </a>

    <a routerLink="/history"
       routerLinkActive="active"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M3 12a9 9 0 1 0 9-9"></path>
        <path d="M3 4v6h6"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>
      <span class="label">History</span>
    </a>

    <a routerLink="/audit-logs"
       routerLinkActive="active"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M5 8h14v12H5z"></path>
        <path d="M9 12h6"></path>
        <path d="M9 16h6"></path>
      </svg>
      <span class="label">Audit Logs</span>
    </a>

    <a routerLink="/requests"
       routerLinkActive="active"
       [routerLinkActiveOptions]="{ exact: true }"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M4 7h16"></path>
        <path d="M4 12h16"></path>
        <path d="M4 17h16"></path>
      </svg>
      <span class="label">Requests</span>
    </a>

    <a routerLink="/requests/create"
       routerLinkActive="active"
       [routerLinkActiveOptions]="{ exact: true }"
       *ngIf="canUseBusinessFeatures"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M12 5v14"></path>
        <path d="M5 12h14"></path>
      </svg>
      <span class="label">Create Request</span>
    </a>

    <a routerLink="/business-center"
       routerLinkActive="active"
       *ngIf="canOpenBusinessCenter"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M4 20V8l8-4 8 4v12"></path>
        <path d="M8 20v-5h8v5"></path>
        <path d="M9 10h.01"></path>
        <path d="M15 10h.01"></path>
      </svg>
      <span class="label">Business Center</span>
    </a>

    <a routerLink="/payment"
       routerLinkActive="active"
       *ngIf="!hasBusinessAccess || trialExpired"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <rect x="2.5" y="5" width="19" height="14" rx="2"></rect>
        <path d="M2.5 10h19"></path>
        <path d="M7 15h4"></path>
      </svg>
      <span class="label">Billing</span>
    </a>

    <a routerLink="/profile"
       routerLinkActive="active"
       class="sidebar-item">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <circle cx="12" cy="8" r="4"></circle>
        <path d="M4 20c2-3 5-5 8-5s6 2 8 5"></path>
      </svg>
      <span class="label">Profile</span>
    </a>

  </nav>

  <div class="sidebar-plan-card">
    <p class="sidebar-plan-title">Plan Status</p>
    <p class="sidebar-plan-name">{{ planLabel }}</p>
    <p class="sidebar-plan-meta">Role: {{ memberRoleLabel }}</p>
    <p class="sidebar-plan-meta">{{ statusText() }}</p>
    <div class="sidebar-progress">
      <span [style.width.%]="trialProgressPercent()"></span>
    </div>
    <a routerLink="/payment" class="sidebar-plan-link" *ngIf="!hasBusinessAccess || trialExpired">Open Payment</a>
    <a routerLink="/business-center" class="sidebar-plan-link" *ngIf="canOpenBusinessCenter">Open Business</a>
  </div>
</div>
