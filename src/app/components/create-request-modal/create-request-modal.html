<div
  class="fixed inset-0 bg-black/40 flex items-center justify-center z-50">

  <div class="bg-white rounded-xl p-8 w-full max-w-lg space-y-6">

    <div class="flex justify-between items-center">
      <h3 class="text-xl font-semibold">Create Scan Request</h3>
      <button
        class="text-slate-400 hover:text-slate-600"
        (click)="close.emit()">
        x
      </button>
    </div>

    <!-- Target (Admin) -->
    <div>
      <label class="label" for="requester-name">Requested By</label>
      <input
        #requestedByInput
        class="input"
        id="requester-name"
        [value]="requestedByDefault"
        placeholder="Company or admin name" />
    </div>

    <!-- Requested For -->
    <div>
      <label class="label" for="request-user-id">Requested For (Email or Phone)</label>
      <input
        #requestedForInput
        class="input"
        id="request-user-id"
        placeholder="name@email.com or +201234567890" />
      <p class="text-xs text-slate-500 mt-2">
        We will send an invite if the user is not registered yet.
      </p>
    </div>

    <!-- Required State -->
    <div>
      <label class="label" for="request-required-state">Required Scan State</label>
      <select
        #requiredStateInput
        class="input"
        id="request-required-state">
        <option>Stable</option>
        <option>Low Focus</option>
        <option>Elevated Fatigue</option>
        <option>High Risk</option>
      </select>
    </div>

    <!-- Notes -->
    <div>
      <label class="label" for="request-notes">Notes (optional)</label>
      <textarea
        #notesInput
        id="request-notes"
        rows="3"
        class="input"
        placeholder="Why is this scan required?"></textarea>
    </div>

    <button
      type="button"
      class="btn-primary w-full disabled:opacity-60 disabled:cursor-not-allowed"
      [disabled]="submitting"
      (click)="onSubmit(requestedByInput.value, requestedForInput.value, requiredStateInput.value, notesInput.value)">
      Send Request
    </button>
    <p
      *ngIf="feedback as info"
      class="text-sm"
      [ngClass]="{
        'text-green-600': info.type === 'success',
        'text-red-500': info.type === 'error',
        'text-slate-500': info.type === 'info'
      }">
      {{ info.message }}
    </p>

  </div>
</div>
